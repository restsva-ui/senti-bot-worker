üî• –ì–æ—Ç–æ–≤–æ!
–û–Ω–æ–≤–∏–≤ —á–µ–∫-–ª–∏—Å—Ç –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å —É src/index.js (—Ç–µ–ø–µ—Ä –≤—ñ–Ω —ñ–≥–Ω–æ—Ä—É—î callback_query, —â–æ–± –Ω–µ –ø–ª–æ–¥–∏—Ç–∏ "‚úÖ –û—Ç—Ä–∏–º–∞–≤ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è").

–û—Å—å —Ñ–∞–π–ª docs/checklist.md —Ü—ñ–ª–∫–æ–º, —â–æ–± —Ç–∏ –º—ñ–≥ –∫–æ–ø—ñ-–ø–∞—Å—Ç –æ–¥–Ω–∏–º –Ω–∞—Ç–∏—Å–∫–æ–º:

# ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ—î–∫—Ç—É Senti Bot Worker

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç —Ñ—ñ–∫—Å—É—î –∞–∫—Ç—É–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –∫–æ–¥—É, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ç–∞ —Å–µ–∫—Ä–µ—Ç—ñ–≤.  
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–∑–∞–≤–∂–¥–∏**, –∫–æ–ª–∏ —Ç—Ä–µ–±–∞ –ø—Ä–∞–≤–∏—Ç–∏ –∫–æ–¥ –∞–±–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ñ–∞–π–ª–∏,  
—â–æ–± –Ω–µ –ª–∞–º–∞—Ç–∏ —ñ—Å–Ω—É—é—á—É –ª–æ–≥—ñ–∫—É.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

/src ‚îú‚îÄ‚îÄ index.js        ‚Üê –≥–æ–ª–æ–≤–Ω–∏–π –≤—Ö—ñ–¥ (webhook, –±–∞–∑–æ–≤–∞ –ª–æ–≥—ñ–∫–∞, –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è —É router.js) ‚îú‚îÄ‚îÄ router.js       ‚Üê –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è –Ω–æ–≤–∏—Ö –∫–æ–º–∞–Ω–¥ —Ç–∞ –∫–Ω–æ–ø–æ–∫ (/menu, /likepanel, /stats) ‚îú‚îÄ‚îÄ lib/ ‚îÇ     ‚îî‚îÄ‚îÄ tg.js     ‚Üê —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ Telegram API-—Ö–µ–ª–ø–µ—Ä–∏ ‚îî‚îÄ‚îÄ commands/ ‚îú‚îÄ‚îÄ menu.js   ‚Üê –ø–æ–±—É–¥–æ–≤–∞ –º–µ–Ω—é (/menu) ‚îú‚îÄ‚îÄ likes.js  ‚Üê –ø–∞–Ω–µ–ª—å –ª–∞–π–∫—ñ–≤ + callback ‚îî‚îÄ‚îÄ stats.js  ‚Üê —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ wrangler.toml         ‚Üê –∫–æ–Ω—Ñ—ñ–≥ Cloudflare Worker .github/workflows/ ‚îî‚îÄ‚îÄ deploy.yml      ‚Üê GitHub Actions –¥–µ–ø–ª–æ–π /docs ‚îî‚îÄ‚îÄ checklist.md    ‚Üê —Ü–µ–π —Ñ–∞–π–ª

---

## üîë –°–µ–∫—Ä–µ—Ç–∏ —Ç–∞ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

### GitHub Secrets
- `CLOUDFLARE_API_TOKEN` ‚Äì —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É –¥–æ API
- `CF_ACCOUNT_ID` ‚Äì —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∞–∫–∞—É–Ω—Ç—É Cloudflare
- `BOT_TOKEN` ‚Äì —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞

### Cloudflare Worker Vars
- `BOT_TOKEN` (—Ç–æ–π —Å–∞–º–∏–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞)
- `WEBHOOK_SECRET` = `senti1984`
- `API_BASE_URL` = `https://api.telegram.org`

### Cloudflare Worker KV
- Binding: `STATE`
- Namespace ID: `7b32e2d1f60846ddb1c653eb52180bf7`

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞

- `index.js`
  - `/start` ‚Üí –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è
  - `/ping` ‚Üí `pong ‚úÖ`
  - `/kvset <key> <value>` ‚Üí –∑–±–µ—Ä—ñ–≥–∞—î —É KV
  - `/kvget <key>` ‚Üí —á–∏—Ç–∞—î –∑ KV
  - echo ‚Üí –ø–æ–≤—Ç–æ—Ä—é—î –±—É–¥—å-—è–∫–∏–π —Ç–µ–∫—Å—Ç
  - —Ñ–æ—Ç–æ/–¥–æ–∫—É–º–µ–Ω—Ç ‚Üí –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è  
  - ‚ö†Ô∏è **–ù–ï –æ–±—Ä–æ–±–ª—è—î `callback_query`** (—Ü–µ —Ä–æ–±–∏—Ç—å `router.js`)

- `router.js`
  - `/menu` ‚Üí –º–µ–Ω—é –∑ –∫–Ω–æ–ø–∫–∞–º–∏
  - `/likepanel` ‚Üí –ø–∞–Ω–µ–ª—å –ª–∞–π–∫—ñ–≤ üëçüëé
  - `/stats` ‚Üí –∑–≤–æ–¥–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  - –æ–±—Ä–æ–±–∫–∞ callback-–∫–Ω–æ–ø–æ–∫:
    - `cmd:likepanel` ‚Üí —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–∞–Ω–µ–ª—å
    - `cmd:stats` ‚Üí –ø–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    - `like` / `dislike` ‚Üí —Ä–∞—Ö—É–Ω–æ–∫ —É KV + —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

- `lib/tg.js`
  - `tg(env, method, body)` ‚Äì –±–∞–∑–æ–≤–∏–π –≤–∏–∫–ª–∏–∫ Bot API
  - –û–±–≥–æ—Ä—Ç–∫–∏: `sendMessage`, `answerCallbackQuery`, `editMessageText`, `sendPhoto`, `sendDocument`

- `commands/`
  - `menu.js` ‚Äì –ø—Ä–æ—Å—Ç–µ –º–µ–Ω—é
  - `likes.js` ‚Äì –ø–∞–Ω–µ–ª—å –ª–∞–π–∫—ñ–≤ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è, –∑–∞—Ä–∞–∑ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É)
  - `stats.js` ‚Äì –≤–∏–≤—ñ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è, –∑–∞—Ä–∞–∑ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É)

---

## üì¶ –î–µ–ø–ª–æ–π

1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ GitHub Actions ‚Üí `.github/workflows/deploy.yml`
   - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `wrangler@3`
   - –¥–µ–ø–ª–æ–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `wrangler deploy --config wrangler.toml`

2. –†—É—á–Ω–∏–π –¥–µ–ø–ª–æ–π:
   ```bash
   wrangler deploy --config wrangler.toml --log-level debug


---

üìù –û–Ω–æ–≤–ª–µ–Ω–Ω—è 2025-09-25

src/index.js:

–¥–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É if (update.callback_query) return; —É handleBasic,
—â–æ–± fallback –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ –Ω–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫.


–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ —Ä–æ–±–æ—Ç—É: /menu, /likepanel, –ª–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, echo, KV, —Ñ–æ—Ç–æ.

‚úÖ –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å —Å—Ç–∞–±—ñ–ª—å–Ω–æ.



---

üö¶ –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è

–ü—Ä–∏ –∫–æ–∂–Ω—ñ–π –∑–º—ñ–Ω—ñ —Ñ–∞–π–ª—ñ–≤ ‚Üí –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Ü–µ–π —á–µ–∫-–ª–∏—Å—Ç.

–ù–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç–∏ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —É GitHub —Ç–∞ Worker.

–ù–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ —É –Ω–æ–≤—ñ —Ñ–∞–π–ª–∏ (/src/commands/... –∞–±–æ /src/feature/...)
—ñ —Ç—ñ–ª—å–∫–∏ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏ —É router.js.


---

–•–æ—á–µ—à, —è —â–µ –≤—ñ–¥—Ä–∞–∑—É –¥–æ–¥–∞–º —Ü–µ–π —Ñ–∞–π–ª —É –≥—ñ–ª–∫—É `main` —è–∫ `docs/checklist.md`, —â–æ–± —É —Ä–µ–ø–æ –≤—ñ–Ω –±—É–≤ –∑–∞–≤–∂–¥–∏ –ø—ñ–¥ —Ä—É–∫–∞–º–∏?

