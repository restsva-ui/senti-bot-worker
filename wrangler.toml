name = "senti-bot-worker"
main = "src/index.js"
compatibility_date = "2025-01-10"
workers_dev = true

[vars]
TZ = "Europe/Kyiv"

# === Google Drive (Service Account) ===
# EMAIL сервіс-акаунта (з JSON: client_email)
GDRIVE_SA_EMAIL = "senti-drive-agent@<твій-проект>.iam.gserviceaccount.com"
# ID папки на Google Drive, куди складати бекапи (створи папку, візьми її ID з URL)
GDRIVE_FOLDER_ID = "<YOUR_DRIVE_FOLDER_ID>"
# Бажана за замовчуванням MIME-тип назви файлів, якщо не вдасться визначити (не чіпай)
GDRIVE_DEFAULT_MIME = "application/octet-stream"

# ВАЖЛИВО: приватний ключ додаємо як СЕКРЕТ (не в plaintext)
#   назва секрета: GDRIVE_PRIVATE_KEY
#   значення: поле "private_key" з JSON (з новими рядками \n як є)

[[kv_namespaces]]
binding = "STATE_KV"
id = "7b32e2d1f60846ddb1c653eb52180bf7"   # senti-state

[[kv_namespaces]]
binding = "DEDUP_KV"
id = "20d81d7b68fa4ac6b9913e2fbd3465d5"   # senti-dedup

[[kv_namespaces]]
binding = "TODO_KV"
id = "497eac980691495ea2a0bc8611892d65"   # senti-cache